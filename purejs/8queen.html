<body>
    <h1><span id="n"></span> királynő probléma</h1>
    <input type="range" min="2" max="6" value="4"
           onmousemove="f(this.value * 2)" 
           onchange="f(this.value * 2)" >
    <div id="x"></div><br>
    <a href="https://hu.wikipedia.org/wiki/Nyolckir%C3%A1lyn%C5%91-probl%C3%A9ma" target="_blank">Forrás (HF befejezni!)</a>
</body>
<script>
    function f(n) {
        m = n % 12
        l = Array(n / 2).fill(0).map( (v, i) => 2 * i + 2 )
        l2 = Array(n / 2).fill(0).map( (v, i) => 2 * i + 1 )
        if (m == 8) for (i=0; i < n / 4; i++) [l2[2 * i], l2[2 * i + 1]] = [l2[2 * i + 1], l2[2 * i]]
        if (m == 2) [l2[0], l2[1]] = [l2[1], l2[0]]
        l = l.concat(l2)
        l = l.map(v => v - 1)
        tbl = "<table>"
        for (i = 0; i < n; i++) {
            tbl += "<tr>" 
            for (j = 0; j < n; j++) {
                tbl += "<td "
                if ((i + j) % 2) tbl += 'class="o"'
                if (l[i]==j) tbl += ">♛</td>"
                else tbl += ">&nbsp;</td>"
            }
            tbl += "</tr>"
        }
        tbl += "</table>"
        document.getElementById("x").innerHTML = tbl
        document.getElementById("n").innerHTML = n
    }
    f(8)
</script>
<style>
     body {
        text-align: center;
        background-color: antiquewhite;
        color: rgb(22, 61, 69);
        text-shadow: 1px 1px 3px gray;
    }
    td {
        background-color: rgb(62, 114, 114);
        box-shadow: 1px 1px 3px black;
        border-radius: 4px;
        border: solid 1px rgb(6, 37, 49); 
        cursor: pointer;
        font-size: 30px;
        height: 20px;
        width: 30px;
        text-align: center;
        color:rgb(128, 35, 104);
    }
    .o {
        background-color: rgb(163, 228, 206);
    }
    table {
        border-spacing: 2px;
        margin: auto;
    }
</style>
