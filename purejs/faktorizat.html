<body>
    <h1>Prímfaktorizáció</h1>
    <input type="number" min=2 onchange="f(this.value)">
    <hr>
    <div class="c" id="f"></div>
</body>
<script>
    maxrunningit = 60000
    function f(n) {
        s = `<div class="s">${n}</div>`, on = Math.sqrt(n)
        pszt = new Set(), fakt = [], i = 1, sp = ""
        if (n > 1) do {
            do {
                i ++
                p = true
                pszt.forEach( v => { if (i % v == 0) p = false } )
                if (p) pszt.add(i)
                if (i > maxrunningit) break
            } while (n % i != 0)
            while (n % i == 0) n = n / i, fakt.push(i)
            if (i > maxrunningit) break
        } while (n!=1)
        if (n != 1) 
            if ( n > on ) fakt.push(`<i>${n}</i>`)
            else fakt.push(n)
        if (fakt.length > 1) sp = s + `<div class="mj">=</div>`
        document.getElementById("f").innerHTML = sp + fakt.map(v => 
            `<div>${v}</div>`).join(`<div class="mj">*</div>`)
    }
</script>
<style>
    h1 {
        text-shadow: 1px 1px 4px gray;
        color: rgb(93, 16, 16);
    }
    body {
        background-color: antiquewhite;
        text-align: center;
        text-shadow: 1px 1px 3px gray;
        color: rgb(10, 52, 93);
    }
    .c {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        vertical-align: bottom;
    }
    .c div {
        text-align: center;
        width: auto;
        padding: 5px;
        padding-left: 15px;
        padding-right: 15px;
        border-radius: 6px;
        box-shadow: 1px 1px 6px inset black;
        margin: 4px;
        background-color: rgb(190, 240, 240);
    }
    div.mj {
        width: 10px;
        background-color: transparent;
        box-shadow: none;
        padding: 0px;
        margin-top: 9px;
    }
    div.s {
        width: auto;
        background-color: rgb(255, 157, 127);
        padding-left: 20px;
        padding-right: 20px;
    }
    i {
        color: rgb(77, 0, 0);
    }
</style>