<script src="https://cdn.jsdelivr.net/npm/brython@3/brython.min.js"></script>
<body onload="brython()">
    <script type="text/python">
        from browser import document, html
        rt = 8*[0]
        def f(e):
            if e.target.innerHTML == '':
                e.target.style = { "background-color": "rgb(160,29,34)" }
                e.target.innerHTML = 2**int( e.target.id )
                rt[ int( e.target['class'] ) ] += 2 ** int( e.target.id )
                document.select( f'TH.res{int( e.target["class"] )}')[0] \
                        .innerHTML = rt[ int( e.target['class'] ) ]
            else:
                e.target.style = { "background-color": "rgb(245, 245, 113)" }
                e.target.innerHTML = ''
                rt[ int( e.target['class'] ) ] -= 2**int( e.target.id )
                document.select( f'TH.res{int( e.target["class"] )}' )[0] \
                        .innerHTML = rt[ int( e.target['class'] ) ]
        t = html.TABLE( style = { "border-spacing": "8px" } )
        t <= html.TR( html.TH( "BitMÃ¡trix", colspan = 9 ) )
        r = html.TR( )
        for k in range( 8 ):
            r <= html.TH( 2 ** (7-k) )
        t <= r
        for j in range( 8 ):
            r = html.TR( )
            for k in range( 8 ):
                r <= html.TD( id = ( 7 - k ), Class = j ).bind( "click", f )
            r <= html.TH( 0, Class = f'res{j} res' )
            t <= r
        document <= t
    </script>
</body>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Lobster&display=swap');
    td, th {
        font-family: 'Lobster', cursive;
        border-radius: 6px;
        padding: 10px;
        color: blue;
    }
    th {
        background-color: rgb(200,189,234);
        box-shadow: 1px 1px 4px gray;
        text-shadow: 1px 1px 3px gray;
    }
    th.res {
        width: 80px;
    }
    td {
        background-color: rgb(245, 245, 113);
        color: rgb(160,29,34);
        box-shadow: 1px 1px 4px black;
        width: 40px;
        height: 40px;
        text-align: center;
        cursor: pointer;
    }
    td:hover {
        background-color: rgb(42, 46, 165);
    }
</style>