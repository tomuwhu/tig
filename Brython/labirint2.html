<head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/brython@3/brython.min.js"></script>
    <script type="text/python">
        from browser import document as D
        from browser.html import TABLE, TR, TD, A, DIV
        n, m = 13, 29
        t = [['' for j in range(m)] for i in range(n)]
        for i in range(n): t[i][0], t[i][m-1] = " ", " "
        for i in range(m): t[0][i], t[n-1][i] = " ", " "
        D <= TABLE([TR(map(TD, l)) for l in t]) + DIV(Id = "a")
        def f(e):
            e.target.html = " " if  e.target.html == "" else ""
            y, x = e.target.parent.rowIndex, e.target.cellIndex
            t[y][x] = " " if t[y][x] == "" else ""
            s = "\n".join(["".join(list(map(lambda z: "1" if z == " " else "0", r))) for r in t])
            D["a"].clear()
            D["a"] <= A("Pálya letöltése", Download="p.txt", Href=f'data:text/plain;charset=utf-8,{s}')
        for i in D.select("td"): i.bind("click", f)
    </script>
    <style media="screen">
        div#a {
            margin: 10px;
            padding: 15px;
        }
        a {
            font-size: 20px;
        }
        body {
            text-align: center;
        }
        table {
            margin: auto;
            border-spacing: 5px;
        }
        td {
            width: 40px;
            height: 40px;
            background-color: rgb(70, 62, 53);
            border-radius: 5px;
            box-shadow: 1px 1px 3px black;
            text-align: center;
            cursor: pointer;
        }
        td:empty {
            background-color: rgb(223, 223, 184);
        }
    </style>
</head>
<body onload="brython()"></body>
